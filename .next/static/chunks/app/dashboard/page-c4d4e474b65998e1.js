(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{190:(e,t,r)=>{Promise.resolve().then(r.bind(r,8796))},3475:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>l});var a=r(5155),s=r(2115),i=r(851);let n=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),o=(0,i.UU)("https://zvyuurbieuionummrcqi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eXV1cmJpZXVpb251bW1yY3FpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4NDA0MTIsImV4cCI6MjA1ODQxNjQxMn0.IKZgwRcmGPhYHDuvkRAco9lWk5GXjAT568ZD3XmodEU");(0,s.useEffect)(()=>{let{data:{subscription:e}}=o.auth.onAuthStateChange((e,t)=>{l((null==t?void 0:t.user)||null),c(!1)});return o.auth.getSession().then(e=>{let{data:{session:t}}=e;l((null==t?void 0:t.user)||null),c(!1)}),()=>{null==e||e.unsubscribe()}},[o]);let u=async(e,t)=>{let{error:r}=await o.auth.signInWithPassword({email:e,password:t});return{error:r}},m=async(e,t)=>{let{error:r}=await o.auth.signUp({email:e,password:t});return{error:r}},h=async()=>{let{error:e}=await o.auth.signOut();return{error:e}};return(0,a.jsx)(n.Provider,{value:{user:r,loading:d,signIn:u,signUp:m,signOut:h,supabase:o},children:t})}function d(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8796:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(5155),s=r(2115),i=r(3475),n=r(851),l=r(6874),d=r.n(l),c=r(9946);let o=(0,c.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),u=(0,c.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),m=(0,c.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),h=(0,c.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),x=(0,c.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),p=(0,n.UU)("https://zvyuurbieuionummrcqi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eXV1cmJpZXVpb251bW1yY3FpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4NDA0MTIsImV4cCI6MjA1ODQxNjQxMn0.IKZgwRcmGPhYHDuvkRAco9lWk5GXjAT568ZD3XmodEU");function y(){let{user:e}=(0,i.A)(),[t,r]=(0,s.useState)([]),[n,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{c()},[]);let c=async()=>{try{let{data:t,error:a}=await p.from("ads").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(a)throw a;r(t)}catch(e){console.error("Error fetching ads:",e)}finally{l(!1)}},y=(e,t)=>{switch(e){case"active":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,a.jsx)(o,{className:"w-4 h-4 mr-1"}),t?"Auto-approved":"Approved"]});case"pending":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,a.jsx)(u,{className:"w-4 h-4 mr-1"}),"Pending Review"]});case"rejected":return(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,a.jsx)(m,{className:"w-4 h-4 mr-1"}),"Rejected"]});default:return e}},f=async e=>{if(window.confirm("Are you sure you want to delete this ad?"))try{let{error:a}=await p.from("ads").delete().eq("id",e);if(a)throw a;r(t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting ad:",e)}};return n?(0,a.jsx)("div",{className:"p-4",children:"Loading..."}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"My Ads"}),(0,a.jsx)(d(),{href:"/ads/create",className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90",children:"Create New Ad"})]}),(0,a.jsxs)("div",{className:"grid gap-6",children:[t.map(e=>(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:e.title}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:[e.price," ",e.currency]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[y(e.status,e.auto_approved),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["Posted: ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d(),{href:"/ads/".concat(e.id,"/edit"),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,a.jsx)(h,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>f(e.id),className:"inline-flex items-center px-3 py-2 border border-red-300 rounded-md text-sm font-medium text-red-700 hover:bg-red-50",children:[(0,a.jsx)(x,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]},e.id)),0===t.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"You haven't posted any ads yet."}),(0,a.jsx)(d(),{href:"/ads/create",className:"text-primary hover:text-primary/90 font-medium mt-2 inline-block",children:"Create your first ad"})]})]})]})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:r,strokeWidth:d?24*Number(l)/Number(s):l,className:i("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:d,...c}=r;return(0,a.createElement)(l,{ref:n,iconNode:t,className:i("lucide-".concat(s(e)),d),...c})});return r.displayName="".concat(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[112,441,684,358],()=>t(190)),_N_E=e.O()}]);