(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2963:(e,t,s)=>{Promise.resolve().then(s.bind(s,3418))},3418:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(5155),a=s(2115),i=s(6874),n=s.n(i),l=s(6766),o=s(7924),d=s(3052),c=s(4516),m=s(2085),x=s(9433);let u=(0,m.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),f=a.forwardRef((e,t)=>{let{className:s,variant:a,size:i,...n}=e;return(0,r.jsx)("button",{className:(0,x.cn)(u({variant:a,size:i,className:s})),ref:t,...n})});f.displayName="Button";var h=s(851),p=s(7331);let g="https://zvyuurbieuionummrcqi.supabase.co",y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp2eXV1cmJpZXVpb251bW1yY3FpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4NDA0MTIsImV4cCI6MjA1ODQxNjQxMn0.IKZgwRcmGPhYHDuvkRAco9lWk5GXjAT568ZD3XmodEU";if(!g||!y){let e=Error("Missing Supabase environment variables - please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY");throw(0,p.h)(e),e}let b=(0,h.UU)(g,y);var v=s(5028);a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,x.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s,i["aria-invalid"]?"border-destructive":""),ref:t,...i})}).displayName="Input",s(7168);var N=s(7293),j=s(6474),w=s(7863),k=s(5196);N.bL,N.YJ,N.WT,a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(N.l9,{ref:t,className:(0,x.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[a,(0,r.jsx)(N.In,{asChild:!0,children:(0,r.jsx)(j.A,{className:"h-4 w-4 opacity-50"})})]})}).displayName=N.l9.displayName;let I=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.PP,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})});I.displayName=N.PP.displayName;let A=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.wn,{ref:t,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})});function R(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0);(0,a.useEffect)(()=>{u(),h()},[]);let u=async()=>{try{let{data:e,error:s}=await b.from("ads").select("\n          *,\n          categories(*),\n          profiles:user_id(*)\n        ").eq("status","active").order("created_at",{ascending:!1}).limit(6);if(s)throw s;t(e)}catch(e){console.error("Error fetching featured ads:",e)}},h=async()=>{try{let{data:e,error:t}=await b.from("categories").select("*").order("name");if(t)throw t;i(e)}catch(e){console.error("Error fetching categories:",e)}finally{x(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)("section",{className:"relative bg-gradient-to-r from-primary to-primary-dark",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl tracking-tight font-extrabold text-white sm:text-5xl md:text-6xl",children:"Find Anything in Cyprus"}),(0,r.jsx)("p",{className:"mt-3 max-w-md mx-auto text-base text-white/80 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"The largest marketplace in Cyprus. Buy and sell anything from cars to properties."}),(0,r.jsx)("div",{className:"mt-10 max-w-xl mx-auto",children:(0,r.jsxs)("div",{className:"flex shadow-lg rounded-lg overflow-hidden bg-white",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("input",{type:"text",className:"block w-full px-4 py-4 text-gray-900 placeholder-gray-500 focus:outline-none",placeholder:"What are you looking for?"})}),(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("button",{className:"px-6 py-4 bg-primary text-white hover:bg-primary-dark focus:outline-none",children:(0,r.jsx)(o.A,{className:"w-5 h-5"})})})]})})]})})}),(0,r.jsx)("section",{className:"py-12 bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Popular Categories"}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(e=>(0,r.jsx)(n(),{href:"/categories/".concat(e.slug),className:"group relative bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg bg-".concat(e.color,"-100 flex items-center justify-center"),children:e.icon&&(0,r.jsx)("span",{className:"text-".concat(e.color,"-600 text-2xl"),children:e.icon})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 group-hover:text-primary",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.ad_count||0," listings"]})]})]})},e.id))})]})}),(0,r.jsx)("section",{className:"py-12",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Featured Ads"}),(0,r.jsxs)(n(),{href:"/search",className:"text-primary hover:text-primary-dark flex items-center",children:["View all",(0,r.jsx)(d.A,{className:"w-4 h-4 ml-1"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)(n(),{href:"/ads/".concat(e.id),className:"group bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,r.jsx)("div",{className:"aspect-w-16 aspect-h-9 relative",children:(0,r.jsx)(l.default,{src:e.main_image_url||"/placeholder.jpg",alt:e.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 group-hover:text-primary truncate",children:e.title}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500 truncate",children:e.description}),(0,r.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-1"}),e.location]}),(0,r.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-primary",children:[e.price," ",e.currency]}),e.negotiable&&(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Negotiable"})]})]})]},e.id))})]})}),(0,r.jsx)("section",{className:"bg-gray-50 border-t border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Ready to sell something?"}),(0,r.jsx)("p",{className:"mt-3 text-xl text-gray-500",children:"Join thousands of sellers who trust our platform"}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)(f,{variant:"default",size:"lg",onClick:()=>router.push("/ads/create"),children:"Post Your Ad Now"})})]})})})]})}A.displayName=N.wn.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,position:i="popper",...n}=e;return(0,r.jsx)(N.ZL,{children:(0,r.jsxs)(N.UC,{ref:t,className:(0,x.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...n,children:[(0,r.jsx)(I,{}),(0,r.jsx)(N.LM,{className:(0,x.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(A,{})]})})}).displayName=N.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.JU,{ref:t,className:(0,x.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=N.JU.displayName,a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(N.q7,{ref:t,className:(0,x.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(N.VF,{children:(0,r.jsx)(k.A,{className:"h-4 w-4"})})}),(0,r.jsx)(N.p4,{children:a})]})}).displayName=N.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(N.wv,{ref:t,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=N.wv.displayName,(0,v.default)(()=>Promise.all([s.e(484),s.e(761),s.e(544)]).then(s.bind(s,5163)),{loadableGenerated:{webpack:()=>[5163]},ssr:!1})},7168:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var r=s(5155),a=s(2115),i=s(2085),n=s(9433);let l=(0,i.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:s,variant:i,size:o,asChild:d=!1,loading:c,icon:m,children:x,...u}=e,f=d?a.Fragment:"button";return(0,r.jsx)(f,{className:(0,n.cn)(l({variant:i,size:o,className:s}),{"opacity-75 pointer-events-none":c}),ref:t,disabled:c||u.disabled,...u,children:c?(0,r.jsxs)("span",{className:"flex items-center justify-center","data-testid":"button-spinner",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x]}):(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)("span",{className:"mr-2",children:m}),x]})})});o.displayName="Button"},7331:(e,t,s)=>{"use strict";s.d(t,{h:()=>n,u:()=>l});var r=s(3568),a=s(5591);let i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.Cp(e,{extra:t})};function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=function(e){if("object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message)return e;try{return Error(JSON.stringify(e))}catch(t){return Error(String(e))}}(e);i(s,{...t,type:"API_ERROR"}),r.oR.error(s.message,{position:"bottom-center",duration:5e3})}function l(e){r.oR.success(e,{position:"bottom-center",duration:3e3})}},9433:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(2596),a=s(9688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[112,3,63,568,591,254,441,684,358],()=>t(2963)),_N_E=e.O()}]);